<div class="recap-container">
  <h2>D√©tails de la pollution</h2>

  <!-- Image avec modal -->
  <div class="image-section" *ngIf="getPhotoUrl()">
    <p><strong>Photo :</strong></p>
    <img 
      [src]="getPhotoUrl()" 
      alt="Photo de pollution"
      class="recap-image"
      (click)="toggleFullImage()"
      title="Cliquer pour agrandir">
    <p class="image-info" *ngIf="isBase64Image()">üì∏ Photo upload√©e</p>
    <p class="image-info" *ngIf="!isBase64Image()">üîó Photo (URL)</p>
  </div>

  <!-- Modal image plein √©cran -->
  <div class="image-modal" *ngIf="showFullImage" (click)="toggleFullImage()">
    <div class="modal-content">
      <img [src]="getPhotoUrl()" alt="Photo agrandie">
      <button class="close-btn" (click)="toggleFullImage()">‚úï Fermer</button>
    </div>
  </div>

  <!-- Informations d√©taill√©es -->
  <div class="info-grid">
    <div class="info-item">
      <strong>Titre :</strong>
      <p>{{ pollutionData?.titre }}</p>
    </div>

    <div class="info-item">
      <strong>Type :</strong>
      <p>{{ pollutionData?.type || pollutionData?.type_pollution }}</p>
    </div>

    <div class="info-item">
      <strong>Date d'observation :</strong>
      <p>{{ formatDate(pollutionData?.date_observation || pollutionData?.dateObservation) }}</p>
    </div>

    <div class="info-item">
      <strong>Lieu :</strong>
      <p>{{ pollutionData?.lieu }}</p>
    </div>

    <div class="info-item">
      <strong>Coordonn√©es GPS :</strong>
      <p>
        Lat: {{ pollutionData?.latitude }}<br>
        Long: {{ pollutionData?.longitude }}
      </p>
    </div>

    <div class="info-item full-width">
      <strong>Description :</strong>
      <p>{{ pollutionData?.description }}</p>
    </div>
  </div>

  <button (click)="goHome()" class="btn-home">‚Üê Retour</button>
</div>
